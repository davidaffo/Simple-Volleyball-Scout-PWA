<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Manuale · Simple Volleyball Scout PWA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="manual-page">
  <header class="manual-hero">
    <div>
      <p class="manual-kicker">Manuale utente</p>
      <h1>Simple Volleyball Scout PWA</h1>
      <p class="manual-updated">Versione aggiornata (rotazioni auto, flusso skill, interfaccia 2 colonne). Questo manuale viene aggiornato a ogni modifica rilevante.</p>
    </div>
    <div class="manual-links">
      <a href="index.html" class="manual-link">← Torna all'app</a>
    </div>
  </header>

  <nav class="manual-nav">
    <h2>Indice</h2>
    <ul>
      <li><a href="#setup">Setup match</a></li>
      <li><a href="#rotazioni">Rotazioni e auto-posizionamento</a></li>
      <li><a href="#flusso-skill">Flusso di gioco automatico e inserimento codici</a></li>
      <li><a href="#falli">Falli/errori e punti manuali</a></li>
      <li><a href="#mobile">Uso da mobile</a></li>
      <li><a href="#salvataggi">Salvataggi e backup</a></li>
    </ul>
  </nav>

  <main class="manual-content">
    <section id="overview">
      <h2>Panoramica rapida</h2>
      <p>Quest’app è pensata per scout live: imposti il match, trascini la formazione, inserisci i codici fondamentali e ottieni subito punteggi, rotazioni e analisi. Il flusso di inserimento è guidato e compatto (due colonne) sia su desktop sia su mobile.</p>
    </section>

    <section id="setup">
      <h2>Setup match (prima di iniziare)</h2>
      <ol>
        <li><strong>Dati match:</strong> inserisci avversario, categoria, data, tipo e turno. Il nome del match è generato automaticamente.</li>
        <li><strong>Roster:</strong> aggiungi giocatrici, numeri e liberi. Il template di default popola una squadra completa; i ruoli in campo vengono calcolati automaticamente dalla posizione del palleggiatore nella rotazione reale.</li>
        <li><strong>Salvataggi:</strong> usa i menu “Squadre salvate” e “Match salvati” per caricare/esportare roster e partite. Import da file sovrascrive il corrente.</li>
        <li><strong>Reset:</strong> cambiare l’elenco giocatrici azzera statistiche ed eventi del match in corso.</li>
      </ol>
    </section>

    <section id="rotazioni">
      <h2>Rotazioni e auto-posizionamento</h2>
      <p>I tre toggle principali (nella sezione rotazioni) controllano automatismi e layout ruolo-based. I ruoli non si impostano più manualmente: sono dedotti dalla posizione del palleggiatore nella rotazione reale.</p>
      <ul>
        <li><strong>Auto rotazione:</strong> avanza la rotazione sul cambio palla basandosi sul punto “for/against”. Manuale ↺/↻ resta sempre disponibile.</li>
        <li><strong>Auto posizionamento per ruolo:</strong> dispone OH in zona 4, OP o P in zona 2, centrali in 3/5; il libero non resta mai in prima linea. Quando disattivi, il campo torna alla rotazione base salvata.</li>
        <li><strong>P1 americana:</strong> in ricezione piazza l’OH in 4 e l’OP in 2 (override della variante standard). Disattivalo per l’inversione classica OH→2 / OP→4.</li>
        <li><strong>Tipo alzata rapido:</strong> scegli una scorciatoia (Mezza, Super, Quick, Veloce, Fast, Alta); la scelta resta attiva come default finché non la cambi o la azzeri con “Reset”.</li>
        <li><strong>Rotazione base separata:</strong> il campo “originale” e la versione auto sono mantenuti in due array distinti; spegnere l’auto ripristina la base senza perdite.</li>
      </ul>
    </section>

    <section id="flusso-skill">
      <h2>Flusso skill e inserimento codici (UI 2 colonne)</h2>
      <ol>
        <li><strong>Seleziona fondamentale:</strong> ogni giocatrice mostra una griglia 2 colonne di skill attive. “Errore/Fallo individuale” è sempre disponibile qui.</li>
        <li><strong>Valuta:</strong> dopo la scelta appare la griglia 2 colonne dei codici (ordinati, con titolo colorato). C’è di nuovo “Errore/Fallo individuale”. Dopo il click torni automaticamente alla lista skill.</li>
        <li><strong>Flusso automatico:</strong> se attivo, salta la scelta del fondamentale e mostra direttamente i codici della skill prevista. Sequenza corrente:
          <ul>
            <li>Start: se serviamo → serve, altrimenti pass.</li>
            <li>Esito “for” → serve; esito “against” → pass.</li>
            <li>Catena: serve → defense; pass → second; second → attack; attack/block → defense; defense → second.</li>
            <li>Eventi manuali (fallo/errore) contano: “against” forza la prossima skill a pass.</li>
          </ul>
        </li>
        <li><strong>Note operative:</strong> dopo ogni codice il fondamentale selezionato si azzera; il flusso automatico aggiorna direttamente la skill suggerita sulle carte giocatrici.</li>
      </ol>
    </section>

    <section id="falli">
      <h2>Falli/errori e punti manuali</h2>
      <ul>
        <li><strong>Errore/Fallo individuale</strong>: assegnabile dalla scelta skill o dalla griglia codici; aggiunge 1 punto “against”.</li>
        <li><strong>Errore/Fallo squadra</strong>: pulsanti dedicati nei controlli punteggio; aggiunge 1 punto “against”.</li>
        <li>I falli aggiornano subito punteggio,  (prossima skill = pass) e rotazioni automatiche.</li>
      </ul>
    </section>

    <section id="mobile">
      <h2>Uso da mobile</h2>
      <ul>
        <li>Interfaccia unica per skill/codici anche su mobile; la griglia 2 colonne si adatta allo spazio disponibile (scroll orizzontale evitato).</li>
        <li>Drag & drop formazione: usa “Imposta formazione” o trascina le chip; il libero non può stare in prima linea.</li>
        <li>Barra flottante: rotazione, undo, accesso rapido alle azioni punteggio.</li>
      </ul>
    </section>

    <section id="salvataggi">
      <h2>Salvataggi e backup</h2>
      <ul>
        <li>Tutti i dati (roster, match, impostazioni) sono salvati in localStorage.</li>
        <li>Pulsanti di export/import per squadra, match, database completo.</li>
        <li>Il manifest e il service worker permettono uso offline con i dati salvati localmente.</li>
      </ul>
    </section>
  </main>
</body>
</html>
